name: sfa
version: "0.0.1"
author: Joseph Guhlin <joseph.guhlin@gmail.com>
about: Tool for working with .sfasta files
subcommands:
    - faidx:
        about: Extract sequence(s) from an SFASTA file as FASTA format
        args:
            - input: 
                index: 1
                about: Input SFASTA file (.sfa, .sfasta, .sfna, .sfaa)
                required: true
            - ids:
                index: 2
                multiple: true
                required: true
    - convert:
        about: "Convert a fasta file to SFASTA"
        args: 
            - input: 
                about: Input FASTA file (.fasta, .fna, .faa)
                index: 1
                required: true
            - index: 
                long: index
                help: Index the file
            - zstd:
                long: zstd
                help: Compress with ZSTD
                conflicts_with:
                    - lz4
                    - snappy
                    - gzip
                    - naf
                    - none
                    - xz
                    - brotli
            - lz4:
                long: lz4
                help: Compress with LZ4
                conflicts_with:
                    - zstd
                    - snappy
                    - gzip
                    - naf
                    - none
                    - xz
                    - brotli
            - xz:
                long: xz
                help: Compress with XZ
                conflicts_with:
                    - zstd
                    - snappy
                    - gzip
                    - naf
                    - none
                    - lz4
                    - brotli
            - brotli:
                long: brotli
                help: Compress with Brotli
                conflicts_with:
                    - zstd
                    - snappy
                    - gzip
                    - naf
                    - none
                    - lz4
                    - xz

    - summarize:
        about: "Summarize a FASTA file"
        args: 
            - input: 
                about: Input FASTA file (.fasta, .fna, .faa)
                index: 1
                required: true
    - stats:
        about: Basic statistics of SFASTA file
        args:
            - input:
                about: Input SFASTA file
                index: 1
                required: true
    - bp:
        args:
            - input:
                index: 1
                required: true
    - index:
        about: Create an SFASTA index
        args:
            - input:
                index: 1
                required: true
    - split:
        about: Split an SFASTA sample. Useful for generating training and validation sets.
        version: "0.0.1"
        args:
            - input:
                index: 1
                help: Input SFASTA file (should end in .sfasta)
                required: true
                takes_value: true
            - output:
                help: Output filename prefix (files will be PREFIX_train.sfasta and PREFIX_validation.sfasta)
                required: true
                takes_value: true
                index: 2
            - training:
                short: t
                help: 0 - 1, training amount to keep. 0.9 would keep 90% of all samples
                default_value: "0.5"
                takes_value: true
                long: training-split
            - length_mode:
                short: l
                help: Split by length of sequence rather than number of samples. Prefer this one.
                long: length
            - seed:
                short: s
                long: seed
                help: Random seed (for reproducible results)
                default_value: "1010"